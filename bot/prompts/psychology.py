from .base import BasePrompts


class PsychologyPrompts(BasePrompts):
    """Промпты для психологического анализа личности"""
    
    @classmethod
    def get_personality_type_prompt(cls) -> str:
        """
        Промпт для страницы 3: "Кто вы по типу личности?"
        Для использования в контекстном режиме (БЕЗ базового контекста)
        """
        return """Отлично! Теперь создайте текст для СТРАНИЦЫ 3 отчета PRIZMA:

ЗАГОЛОВОК: Кто вы по типу личности?

КРИТИЧЕСКИ ВАЖНО: ОБЪЕМ СТРОГО 1900–2000 символов. НЕ ПРЕВЫШАЙТЕ!

1. MBTI-тип: в 2–3 предложениях назовите результат (например, ENTJ) и кратко опишите, 
   как он проявляется в ВАШЕЙ жизни.

2. Big Five: для каждого из 5 факторов (экстраверсия, открытость опыту, сознательность, 
   доброжелательность, нейротизм) напишите по 1 предложению. Приводите пример из ВАШИХ ответов 
   в кавычках (не менее одной цитаты на каждый фактор).

3. Архетип(ы) Юнга: укажите 1 доминирующий архетип, дайте по 1 предложение об его 
   влиянии на ВАШУ мотивацию и поведение.

4. Уникальность: отдельным абзацем подчеркните, какие редкие сочетания черт делают 
   ВАС особенным.

ВАЖНО: 
- ОБРАЩАЙТЕСЬ К ЧЕЛОВЕКУ НАПРЯМУЮ через "ВЫ", "ВАША", "ВАМ" - НЕ пишите "пользователь"
- Используйте прямые цитаты из ответов в кавычках для подтверждения каждого вывода."""

    @classmethod  
    def get_decision_making_prompt(cls) -> str:
        """
        Промпт для страницы 4: "Как вы мыслите и принимаете решения?"
        Для использования в контекстном режиме (БЕЗ базового контекста)
        """
        return """Превосходно! Теперь создайте текст для СТРАНИЦЫ 4 отчета PRIZMA:

ЗАГОЛОВОК: Как вы мыслите и принимаете решения?

КРИТИЧЕСКИ ВАЖНО: ОБЪЕМ СТРОГО 1900–2000 символов. НЕ ПРЕВЫШАЙТЕ!

1. Опишите ВАШИ процесс: три этапа — сбор информации, обсуждение вариантов, интуитивная проверка. 
   Для каждого этапа дайте по 1 предложению и подкрепите цитатой из ВАШИХ ответов.

2. Баланс логики и интуиции:
   • В рабочих (бизнес-) ситуациях — 1 предложение + пример-цитата из ВАШИХ ответов.
   • В личных делах — 1 предложение + пример-цитата из ВАШИХ ответов.

3. Ключевые ценности: выделите 3–4 (например, развитие, свобода, гармония, ответственность). 
Для каждой ценности дайте 1 предложение о том, как она влияет на ВАШИ выборы.

4. Иллюстрация парадокса: приведите цитату «…» и разберите, как она показывает, что ВЫ 
   «долго обдумываете, но решение уже принято интуитивно».

ВАЖНО: 
- ОБРАЩАЙТЕСЬ К ЧЕЛОВЕКУ НАПРЯМУЮ через "ВЫ", "ВАШИ", "ВАМ" - НЕ пишите "пользователь"
- Каждый пункт должен содержать прямые цитаты из ответов. Опирайтесь на уже проведенный анализ личности."""

    @classmethod
    def get_limiting_patterns_prompt(cls) -> str:
        """
        Промпт для страницы 5: "Какие паттерны ограничивают ваше развитие?"
        Для использования в контекстном режиме (БЕЗ базового контекста)
        """
        return """Замечательно! Теперь создайте финальный текст для СТРАНИЦЫ 5 отчета PRIZMA:

ЗАГОЛОВОК: Какие паттерны ограничивают ваше развитие?

КРИТИЧЕСКИ ВАЖНО: ОБЪЕМ СТРОГО 1900–2000 символов. НЕ ПРЕВЫШАЙТЕ!

1. Назовите 1–2 повторяющихся модели поведения (перфекционизм, тревожность, самокритика и т. п.). 
   Для каждой модели опишите в 1 предложении, как она проявляется у ВАС и мешает ВАШЕМУ прогрессу, 
   подкрепите цитатой из ВАШИХ ответов.

2. Ограничивающие убеждения: приведите 1–2 утверждения из ВАШИХ ответов (например, «Если я не…»), 
   дайте по 1 предложение о том, как они блокируют ВАШУ инициативу.

3. Истоки паттернов: в 1 предложении объясните, как эти установки сформировались на фоне 
   ВАШЕГО детского опыта или критики и в каких ситуациях проявляются у ВАС особенно остро (при старте 
   проекта, получении критики и т. д.).

4. Практические советы: дайте 3 конкретных шага или техники (по 1-2 предложения каждая) 
   для трансформации этих паттернов в ресурсы для ВАС.

ВАЖНО: 
- ОБРАЩАЙТЕСЬ К ЧЕЛОВЕКУ НАПРЯМУЮ через "ВЫ", "ВАШИ", "ВАМ" - НЕ пишите "пользователь"
- Все выводы должны быть подкреплены цитатами из ответов. Используйте инсайты из предыдущих анализов."""

    @classmethod
    def get_context_prompts_map(cls) -> dict:
        """
        Карта соответствия типов страниц и промптов для контекстного режима
        """
        return {
            "page3": cls.get_personality_type_prompt,
            "page4": cls.get_decision_making_prompt, 
            "page5": cls.get_limiting_patterns_prompt
        } 